record (bo, "SGA:setRemote")
{
	field (DESC, "Set SGA Remote")
	field (ZNAM, "SGA setRemote")
	field (ONAM, "SGA setRemote")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (OUT, "@sga.proto setRemote $(port)")
	field (FLNK, "SGA:getRemote")
}

record (bi, "SGA:getRemote")
{
	field (DESC, "Get SGA Remote")
	field (ZNAM, "SGA Remote 0")
	field (ONAM, "SGA Remote 1")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (INP, "@sga.proto getRemote $(port)")
}

record (bo, "SGA:setCurrent")
{
	field (DESC, "Set SGA Current to 188A")
	field (ZNAM, "SGA current 188A")
	field (ONAM, "SGA current 188A")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (OUT, "@sga.proto setCurrent $(port)")
	field (FLNK, "SGA:getCurrent")
}

record (ai, "SGA:getCurrent")
{
	field (DESC, "Get SGA Set Current")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (INP, "@sga.proto getCurrent $(port)")
}

record (bo, "SGA:setVoltage")
{
	field (DESC, "Set SGA Voltage to 0")
	field (ZNAM, "SGA Voltage 0V")
	field (ONAM, "SGA Voltage 0V")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (OUT, "@sga.proto setVoltageZero $(port)")
	field (FLNK, "SGA:getVoltage")
}

record (ai, "SGA:getVoltage")
{
	field (DESC, "Get SGA Set Voltage")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (INP, "@sga.proto getVoltage $(port)")
}

record (bo, "SGA:setProtVoltage")
{
	field (DESC, "Set SGA Protection Voltage")
	field (ZNAM, "SGA protVoltage 88V")
	field (ONAM, "SGA protVoltage 88V")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (OUT, "@sga.proto setProtVoltage $(port)")
	field (FLNK, "SGA:getProtVoltage")
}

record (ai, "SGA:getProtVoltage")
{
	field (DESC, "Get SGA Protection")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (INP, "@sga.proto getProtVoltage $(port)")
}

record (bi, "SGA:getStatus")
{
	field (DESC, "Get SGA Status")
	field (ZNAM, "SGA Off")
	field (ONAM, "SGA On")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (INP, "@sga.proto getStatus $(port)")
}

record (bo, "SGA:setOutOff")
{
	field (DESC, "Set SGA Outpu Off")
	field (ZNAM, "SGA outOff 0")
	field (ONAM, "SGA outOff 1")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (OUT, "@sga.proto setOutOff $(port)")
	field (FLNK, "SGA:getStatus")
}

record (bo, "SGA:setOutOn")
{
	field (DESC, "Set SGA Output On")
	field (ZNAM, "SGA outOn 0")
	field (ONAM, "SGA outOn 1")
	field (SCAN, "Passive")
	field (DTYP, "stream")
	field (OUT, "@sga.proto setOutOn $(port)")
	field (FLNK, "SGA:getStatus")
}

record (ai, "SGA:getCurrent")
{
	field (DESC, "Get SGA Set Current")
	field (SCAN, "1 second")
	field (DTYP, "stream")
	field (INP,  "@sgi.proto getCurrent $(port)")
}

######## RECORDS DE ESCRITA NO CLP E SUAS RESPECTIVAS LEITURAS DA FONTE #############

# ----------------------------------------------------------------------------------------------------------

record (ai, "SGA:getOutCurrent")
{
	field (DESC, "Get SGA Output Current")
	field (SCAN, ".5 second")
	field (DTYP, "stream")
	field (INP, "@sga.proto getOutCurrent $(port)")
	field (FLNK, "WRITE_ON_IOC_TENSAO_FONTE_01")
}
record(calcout, "WRITE_ON_IOC_CORRENTE_FONTE_01") {
	field(DESC, "Write SGA current to IOC_TENSAO_FONTE_01")
	field(SCAN, "Passive")
	field(INPA, "SGA:getOutCurrent.VAL")  # Get the value from the source record
	field(CALC, "A")                   # Calculation is simply to pass the input value (A) through
	field(OUT,  "IOC_TENSAO_CORRENTE_01") # The destination PV on the remote IOC
}

# ----------------------------------------------------------------------------------------------------------

record (ai, "SGA:getOutVoltage")
{
	field (DESC, "Get SGA Output Voltage")
	field (SCAN, ".5 second")
	field (DTYP, "stream")
	field (INP, "@sga.proto getOutVoltage $(port)")
	field (FLNK, "WRITE_ON_IOC_TENSAO_FONTE_01")
}


record(calcout, "WRITE_ON_IOC_TENSAO_FONTE_01") {
	field(DESC, "Write SGA current to IOC_TENSAO_FONTE_01")
	field(SCAN, "Passive")
	field(INPA, "SGA:getOutCurrent.VAL")  # Get the value from the source record
	field(CALC, "A")                   # Calculation is simply to pass the input value (A) through
	field(OUT,  "IOC_TENSAO_FONTE_01") # The destination PV on the remote IOC
}

# ----------------------------------------------------------------------------------------------------------

record (ai, "SGA:getOutPower")
{
	field (DESC, "Get SGA Output Power")
	field (SCAN, ".5 second")
	field (DTYP, "stream")
	field (INP, "@sga.proto getOutPower $(port)")
	field (FLNK, "WRITE_ON_IOC_POTENCIA_FONTE_01")
}

record(calcout, "WRITE_ON_IOC_POTENCIA_FONTE_01") {
	field(DESC, "Write current to CLP")
	field(SCAN, "Passive")
	field(INPA, "SGA:getOutCurrent.VAL")  # Get the value from the source record
	field(CALC, "A")                   # Calculation is simply to pass the input value (A) through
	field(OUT,  "IOC_POTENCIA_FONTE_01") # The destination PV on the remote IOC
}

# ----------------------------------------------------------------------------------------------------------


